(()=>{var e={};e.id=721,e.ids=[721],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4723:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(6809),s(7183),s(5866),s(2029);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["(site)",{children:["journal",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6809)),"C:\\Users\\Lee\\Desktop\\mySite\\src\\app\\(site)\\journal\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7183)),"C:\\Users\\Lee\\Desktop\\mySite\\src\\app\\(site)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\Lee\\Desktop\\mySite\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Lee\\Desktop\\mySite\\src\\app\\(site)\\journal\\page.tsx"],u="/(site)/journal/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(site)/journal/page",pathname:"/journal",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8670:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},6203:()=>{},2268:(e,t,s)=>{Promise.resolve().then(s.bind(s,6045))},5303:()=>{},6045:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(326),r=s(7577),n=s(8597),i=s(9811);let l=["전체","데이트","연애","육아","가족","여행","기타"];function o(){let{data:e,ready:t,update:s}=(0,i.k)(),[o,d]=(0,r.useState)(""),[c,u]=(0,r.useState)("전체"),[m,p]=(0,r.useState)(null),[h,x]=(0,r.useState)({title:"",date:"",category:"데이트",tags:"",summary:""}),g=(0,r.useMemo)(()=>{let t=o.trim().toLowerCase();return e.journals.filter(e=>{let s="전체"===c||e.category===c,a=0===t.length||[e.title,e.summary,e.content,e.location,e.tags.join(" ")].join(" ").toLowerCase().includes(t);return s&&a})},[c,e.journals,o]);if(!t)return a.jsx("div",{className:"text-sm text-sand-600",children:"데이터를 불러오는 중..."});let v=e=>{window.confirm("이 기록을 삭제할까요?")&&s(t=>({...t,journals:t.journals.filter(t=>t.id!==e)}))},j=e=>{p(e.id),x({title:e.title,date:e.date,category:e.category,tags:e.tags.join(", "),summary:e.summary??""})},f=()=>{p(null)},b=e=>{s(t=>({...t,journals:t.journals.map(t=>t.id===e?{...t,title:h.title.trim(),date:h.date,category:h.category,tags:h.tags.split(",").map(e=>e.trim()).filter(Boolean),summary:h.summary.trim(),updatedAt:new Date().toISOString()}:t)})),p(null)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("header",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"일기장"}),a.jsx("p",{className:"mt-2 text-sm text-sand-600",children:"데이트, 연애, 육아 기록을 한눈에 모아보세요."})]}),(0,a.jsxs)("section",{className:"card space-y-4 p-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("input",{className:"input max-w-sm",placeholder:"제목이나 태그로 검색",value:o,onChange:e=>d(e.target.value)}),a.jsx("a",{className:"button",href:"/journal/new",children:"새 기록 쓰기"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"label",children:"필터"}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-sm text-sand-700",children:l.map(e=>a.jsx("button",{className:`badge ${c===e?"bg-sand-200":""}`,onClick:()=>u(e),type:"button",children:e},e))})]})]}),a.jsx("section",{className:"grid gap-4",children:0===g.length?a.jsx("div",{className:"card p-6 text-sm text-sand-600",children:"아직 저장된 기록이 없어요. 새 기록을 작성해보세요."}):g.map(e=>(0,a.jsxs)("article",{className:"card space-y-3 p-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-base font-medium",children:e.title}),a.jsx("span",{className:"badge",children:e.category})]}),a.jsx("p",{className:"text-sm text-sand-600",children:(0,n.p6)(e.date)}),a.jsx("p",{className:"text-sm text-sand-700",children:e.summary}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm",children:[a.jsx("a",{className:"button-outline",href:`/journal/${e.id}`,children:"상세 보기"}),m===e.id?(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{type:"button",className:"button-outline",onClick:()=>b(e.id),children:"저장"}),a.jsx("button",{type:"button",className:"button-outline",onClick:f,children:"취소"})]}):a.jsx("button",{type:"button",className:"button-outline",onClick:()=>j(e),children:"빠른 수정"}),a.jsx("button",{type:"button",className:"button-outline text-rose-500 hover:text-rose-600",onClick:()=>v(e.id),children:"삭제"})]}),m===e.id?(0,a.jsxs)("div",{className:"mt-4 grid gap-3 text-sm md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"label",children:"제목"}),a.jsx("input",{className:"input mt-2",value:h.title,onChange:e=>x(t=>({...t,title:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"label",children:"날짜"}),a.jsx("input",{className:"input mt-2",type:"date",value:h.date,onChange:e=>x(t=>({...t,date:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"label",children:"카테고리"}),a.jsx("select",{className:"input mt-2",value:h.category,onChange:e=>x(t=>({...t,category:e.target.value})),children:l.filter(e=>"전체"!==e).map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"label",children:"태그"}),a.jsx("input",{className:"input mt-2",value:h.tags,onChange:e=>x(t=>({...t,tags:e.target.value}))})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx("p",{className:"label",children:"요약"}),a.jsx("input",{className:"input mt-2",value:h.summary,onChange:e=>x(t=>({...t,summary:e.target.value}))})]})]}):null]},e.id))})]})}},8597:(e,t,s)=>{"use strict";s.d(t,{BX:()=>w,FB:()=>m,Gf:()=>S,H4:()=>k,Mc:()=>d,OH:()=>u,dk:()=>N,jo:()=>P,mu:()=>c,p6:()=>o,u1:()=>y});let a="lifeArchiveData",r=()=>new Date().toISOString(),n={defaultVisibility:"private",theme:"cream"},i={journals:[{id:"journal-1",title:"따뜻했던 오후",date:"2026-01-15",category:"데이트",tags:["산책","카페"],location:"서교동",summary:"작은 산책과 커피 한 잔을 기록했어요.",content:"오후의 공기는 맑고 따뜻했어요. 천천히 걸으며 이야기를 나누고, 작은 카페에 들어가 창가에 앉았어요.",photos:[],isPublic:!1,shareId:"share-journal-1",createdAt:r(),updatedAt:r()}],albums:[{id:"album-1",title:"봄 여행",periodStart:"2025-04-02",periodEnd:"2025-04-05",tags:["여행","봄"],coverUrl:"",photos:[],memo:"가족과 함께한 봄 여행 사진을 모아두었어요.",isPublic:!1,shareId:"share-album-1",createdAt:r(),updatedAt:r()}],events:[{id:"event-1",title:"청첩장",type:"청첩장",date:"2026-03-21",time:"14:00",location:"서울 웨딩홀 3층",contact:"010-0000-0000",greeting:"소중한 분들을 초대합니다. 함께 축하해 주시면 감사하겠습니다.",venueInfo:"서울 웨딩홀 3층 라벤더홀",transitInfo:"지하철 2호선 강남역 5번 출구 도보 8분",accountInfo:"신랑 김OO 123-456-789 (OO은행)",description:"소중한 분들을 초대합니다. 편안한 마음으로 오셔서 함께 축하해 주세요.",coverUrl:"",photos:[],guestbook:[{id:"guestbook-1",name:"지인",message:"결혼 진심으로 축하해요!",createdAt:r()}],isPublic:!0,shareId:"share-event-1",createdAt:r(),updatedAt:r()}],settings:n,updatedAt:r()},l=()=>!1,o=e=>e?e.replaceAll("-","."):"",d=e=>"undefined"!=typeof crypto&&"randomUUID"in crypto?`${e}-${crypto.randomUUID()}`:`${e}-${Date.now()}-${Math.random().toString(16).slice(2)}`,c=()=>{if(!l())return i;let e=window.localStorage.getItem(a);if(!e)return i;try{let t=JSON.parse(e);return{...i,...t,journals:t.journals??i.journals,albums:t.albums??i.albums,events:t.events??i.events,settings:t.settings??i.settings}}catch{return i}},u=e=>{l()&&window.localStorage.setItem(a,JSON.stringify(e))},m=()=>l()?window.localStorage.getItem(a)?c():(u(i),i):i,p=(e,t)=>"string"==typeof e?e:t,h=(e,t="")=>p(e,t)??t,x=e=>Array.isArray(e)?e.filter(e=>"string"==typeof e):[],g=(e,t=!1)=>"boolean"==typeof e?e:t,v=e=>({id:h(e.id,d("journal")),title:h(e.title,""),date:h(e.date,""),category:e.category??"기타",tags:x(e.tags),location:p(e.location,void 0),summary:p(e.summary,void 0),content:h(e.content,""),photos:x(e.photos),isPublic:g(e.isPublic),shareId:p(e.shareId,void 0),createdAt:h(e.createdAt,r()),updatedAt:h(e.updatedAt,r())}),j=e=>({id:h(e.id,d("album")),title:h(e.title,""),periodStart:p(e.periodStart,void 0),periodEnd:p(e.periodEnd,void 0),tags:x(e.tags),coverUrl:p(e.coverUrl,void 0),photos:x(e.photos),memo:p(e.memo,void 0),isPublic:g(e.isPublic),shareId:p(e.shareId,void 0),createdAt:h(e.createdAt,r()),updatedAt:h(e.updatedAt,r())}),f=e=>({id:h(e.id,d("event")),title:h(e.title,""),type:e.type??"기타",date:h(e.date,""),time:p(e.time,void 0),location:p(e.location,void 0),contact:p(e.contact,void 0),greeting:p(e.greeting,void 0),venueInfo:p(e.venueInfo,void 0),transitInfo:p(e.transitInfo,void 0),accountInfo:p(e.accountInfo,void 0),description:h(e.description,""),coverUrl:p(e.coverUrl,void 0),photos:x(e.photos),guestbook:Array.isArray(e.guestbook)?e.guestbook.filter(e=>e&&"object"==typeof e).map(e=>({id:p(e.id)??d("guestbook"),name:p(e.name)??"익명",message:p(e.message)??"",createdAt:h(e.createdAt,r())})):[],isPublic:g(e.isPublic),shareId:p(e.shareId,void 0),createdAt:h(e.createdAt,r()),updatedAt:h(e.updatedAt,r())}),b=e=>({defaultVisibility:e?.defaultVisibility==="link"?"link":n.defaultVisibility,theme:e?.theme==="navy"||e?.theme==="olive"?e.theme:n.theme}),y=e=>JSON.stringify({...e,updatedAt:r()},null,2),N=e=>{let t=JSON.parse(e);return{journals:(t.journals??[]).map(e=>v(e)),albums:(t.albums??[]).map(e=>j(e)),events:(t.events??[]).map(e=>f(e)),settings:b(t.settings),updatedAt:r()}},A=e=>[...e].sort((e,t)=>(t.date??"").localeCompare(e.date??"")),P=e=>A(e)[0],S=(e,t=3)=>A(e).slice(0,t),w=(e,t=2)=>A(e).slice(0,t),k=(e,t=2)=>[...e].slice(0,t)},9811:(e,t,s)=>{"use strict";s.d(t,{k:()=>n});var a=s(7577),r=s(8597);let n=()=>{let[e,t]=(0,a.useState)(r.FB),[s,n]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t((0,r.mu)()),(async()=>{try{let e=await fetch("/api/archive",{cache:"no-store"});if(!e.ok)throw Error("failed");let s=await e.json();t(s),(0,r.OH)(s)}catch{}finally{n(!0)}})()},[]),{data:e,update:(0,a.useCallback)(e=>{t(t=>{let s={...e(t),updatedAt:new Date().toISOString()};return(0,r.OH)(s),fetch("/api/archive",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).catch(()=>{}),s})},[]),refresh:(0,a.useCallback)(()=>{t((0,r.mu)())},[]),ready:s}}},6809:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(9510);let r=(0,s(8570).createProxy)(String.raw`C:\Users\Lee\Desktop\mySite\src\components\journal\JournalListClient.tsx#default`);function n(){return a.jsx(r,{})}},7183:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>r});var a=s(9510);s(5023);let r={title:"나만의 라이프 아카이브",description:"기록과 사진을 모아두는 개인 아카이브 공간"};function n({children:e}){return(0,a.jsxs)("div",{className:"mx-auto flex min-h-screen max-w-6xl flex-col px-6 py-8",children:[(0,a.jsxs)("header",{className:"mb-10 flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-sand-600",children:"my life archive"}),a.jsx("h1",{className:"text-2xl font-semibold",children:"나만의 사이트"})]}),(0,a.jsxs)("nav",{className:"flex flex-wrap gap-4 text-sm text-sand-700",children:[a.jsx("a",{className:"hover:text-sand-900",href:"/",children:"집"}),a.jsx("a",{className:"hover:text-sand-900",href:"/journal",children:"일기장"}),a.jsx("a",{className:"hover:text-sand-900",href:"/albums",children:"사진첩"}),a.jsx("a",{className:"hover:text-sand-900",href:"/events",children:"특별한 날들"}),a.jsx("a",{className:"hover:text-sand-900",href:"/search",children:"찾기"}),a.jsx("a",{className:"hover:text-sand-900",href:"/settings",children:"내 공간"})]})]}),a.jsx("main",{className:"flex-1",children:e}),a.jsx("footer",{className:"mt-12 border-t border-sand-100 pt-6 text-xs text-sand-500",children:"나의 기록을 차분하게 모아두는 개인 공간"})]})}},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(9510);function r({children:e}){return a.jsx("html",{lang:"ko",children:a.jsx("body",{className:"min-h-screen",children:e})})}s(5023)},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,471],()=>s(4723));module.exports=a})();